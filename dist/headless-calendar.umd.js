(function(u,l){typeof exports=="object"&&typeof module<"u"?l(exports):typeof define=="function"&&define.amd?define(["exports"],l):(u=typeof globalThis<"u"?globalThis:u||self,l(u.HeadlessCalendar={}))})(this,function(u){"use strict";class l{constructor(t,e,a,s,n){this.date=t,this.dayNumber=e,this.dayOfTheWeek=a,this.dayAxisIndex=s,this.weekAxisIndex=n}isFirstDayOfWeekAndMonth(){const t=this.date.toJSDate().getUTCDate();return this.dayAxisIndex==0&&t>=1&&t<=7}}function S(r){return r.toJSDate().getUTCDay()}function f(r,t){const e=r.toJSDate().getUTCDay();return(t<=e?0:7)+e-t}function g(r,t,e){return Math.ceil((f(r,e)+(r.diff(t)+1))/7)-1}const x=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"];function $(r,t){return t=t%r.length,r.slice(t,r.length).concat(r.slice(0,t))}function p(r){return $(x,r)}class i{year;month;date;constructor(t=i.today().toString()){const[e,a,s]=t.split("-").map(n=>Number(n));this.year=e,this.month=a,this.date=s}static create(t,e,a){return new i([t,e,a].join("-"))}get monthName(){return c[this.month-1]}toJSDate(){return new Date(Date.UTC(this.year,this.month-1,this.date))}equals(t){return Boolean(this.year==t.year&&this.month==t.month&&this.date==t.date)}diff(t){return Math.abs(t.toJSDate().getTime()-this.toJSDate().getTime())/864e5}next(){return i.fromJSDate(new Date(this.toJSDate().getTime()+1e3*60*60*24))}previous(){return i.fromJSDate(new Date(this.toJSDate().getTime()-1e3*60*60*24))}toString(){return[this.year,String(this.month).padStart(2,"0"),String(this.date).padStart(2,"0")].join("-")}static fromJSDate(t,e=!0){return new i(e?`${t.getUTCFullYear()}-${t.getUTCMonth()+1}-${t.getUTCDate()}`:`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`)}static today(t=!0){const e=new Date;return i.fromJSDate(e,t)}}class D{startDate;endDate;startWeekDayIndex;constructor(t,e,a=0){this.startDate=new i(t),this.endDate=new i(e),this.startWeekDayIndex=a}get length(){return this.startDate.diff(this.endDate)}get weekDayNames(){return p(this.startWeekDayIndex)}get maxWeekAxisIndex(){return g(this.startDate,this.endDate,this.startWeekDayIndex)}get days(){return[...this].map(t=>t.value)}toString(t=!0,e=" "){let a=new D(this.startDate.toString(),this.endDate.toString(),this.startWeekDayIndex),s=this.maxWeekAxisIndex,n="";n+=a.weekDayNames.map(h=>h.slice(0,2)).join(e)+`
`;for(let h of a){let[d,o,y,w]=[h.value.date,h.value.dayAxisIndex,h.value.weekAxisIndex,h.value.dayNumber];w==1&&o>0&&(n+=Array(o).fill("  ").join(e)),n+=(o==0?"":e)+`${d.date}`.padStart(2),t&&(y==0&&o==6&&(n+=` ${c[d.month-1]} ${d.year}`),y>0&&o==6&&d.date<=7&&(n+=` ${c[d.month-1]}`,d.month==0&&(n+=` ${d.year}`))),n+=o===6&&y!==s?`
`:"",d.equals(this.endDate)&&o<6&&(n+=e+Array(7-o-1).fill("  ").join(e))}return n}[Symbol.iterator](){let t=this.startDate,e=this.endDate,a=this.startWeekDayIndex;return{curDate:t,curLength:1,next(){const s=this.curDate.equals(e.next());let n={value:new l(this.curDate,this.curLength,S(this.curDate),f(this.curDate,a),g(t,this.curDate,a)),done:!1};return this.curDate=this.curDate.next(),this.curLength++,{done:s,value:n}}}}}class T extends D{constructor(t,e,a=0){let s=`${t}-${e}-1`,n=`${t}-${e}-${new Date(Date.UTC(t,e,0)).getUTCDate()}`;super(s,n,a)}toString(t=!0,e=" "){let a=t?`${c[this.startDate.month-1]} ${this.startDate.year}`:"",s=super.toString(!1,e),n=e.length*6+14,m=Math.ceil((n-a.length)/2+a.length);return(t?a.padStart(m).padEnd(n)+`
`:"")+s}}class k extends D{constructor(t,e=0){let a=`${t}-1-1`,s=`${t}-12-31`;super(a,s,e)}}u.Calendar=D,u.CalendarOfMonth=T,u.CalendarOfYear=k,u.PlainDate=i,Object.defineProperties(u,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
